<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="index.css">
    </head>
    <body style="background-color: #2a2a2a">
        <div id="navigator" class="flex-container">
            <div id="tabbar" class="flex-container">
                <button style="flex:10%" class="button">tab1</button>
                <button style="flex:10%" class="button">tab2</button>
                <button style="flex:10%" class="button">tab3</button>
            </div>
            <div id="urlbar">
                <button id="goback" class="button">◀</button>
                <button id="goforward" class="button">▶</button>
                <button id="reload" class="button">↩</button>
                <form id="urlform">
                    <input id="urlbox" type="text" value="https://www.google.com" style="width: 80%; background-color: #3c3c3c; color: whitesmoke;">
                </form>
            </div>
        </div>
    </body>
    <script>
        const goback = document.getElementById('goback');
        const goforward = document.getElementById('goforward');
        const reload = document.getElementById('reload');
        const urlform = document.getElementById('urlform');
        const urlbox = document.getElementById('urlbox');

        goback.onclick = () => {
            window.api.send('toMain', ['goback']);
        }
        goforward.onclick = () => {
            window.api.send('toMain', ['goforward']);
        }
        reload.onclick = () => {
            window.api.send('toMain', ['reload']);
        }
        urlform.onsubmit = () => {
            let val = urlbox.value
            window.api.send('toMain', ['url', val]);
        }

        window.api.receive("fromMain", (data) => {
            console.log(`Received ${data} from main process`);
            switch(data[0]) {
                case 'urlbar:update':
                    urlbox.value = data[1];
                    break;
            };
        });
    </script>
</html>