<!DOCTYPE html>
<html>
    <body style="background-color: #2a2a2a">
        <button id="goback" style="background-color: #3c3c3c; color: white;">◀</button>
        <button id="goforward" style="background-color: #3c3c3c; color: white;">▶</button>
        <button id="reload" style="background-color: #3c3c3c; color: white;">↩</button>
        <form id="urlform" style="margin: 0; padding: 0; display:inline;">
            <input id="urlbox" type="text" value="https://www.google.com" style="width: 80%; background-color: #3c3c3c; color: whitesmoke;">
        </form>
    </body>
    <script>
        const goback = document.getElementById('goback');
        const goforward = document.getElementById('goforward');
        const reload = document.getElementById('reload');
        const urlform = document.getElementById('urlform');
        const urlbox = document.getElementById('urlbox');

        goback.onclick = () => {
            window.api.send('toMain', ['goback']);
        }
        goforward.onclick = () => {
            window.api.send('toMain', ['goforward']);
        }
        reload.onclick = () => {
            window.api.send('toMain', ['reload']);
        }
        urlform.onsubmit = () => {
            let val = urlbox.value
            window.api.send('toMain', ['url', val]);
        }

        window.api.receive("fromMain", (data) => {
            console.log(`Received ${data} from main process`);
            switch(data[0]) {
                case 'urlbar:update':
                    urlbox.value = data[1];
                    break;
            };
        });
    </script>
</html>